// Using `node src/Image/generate-symbol-map.cjs`
const fs = require("fs");
const path = require("path");

const SYMBOL_DIR = "./Symbols";
const dirPath = path.join(__dirname, "Symbols");

let imports = "";
let entries = "";

fs.readdirSync(dirPath)
  .filter((f) => f.endsWith(".svg"))
  .forEach((file) => {
    const key = file.replace(".svg", "");
    const varName = key.replace(/[\.\-]/g, "_");
    imports += `import { ReactComponent as ${varName} } from './Symbols/${file}?component'\n`;
    entries += `  '${key}': ${varName},\n`;
  });

const content = `// Auto-generated by src/Image/generate-symbol-map.cjs\n${imports}\nexport const symbolMap = {\n${entries}};\n`;
fs.writeFileSync(path.join(__dirname, "symbolMap.js"), content);
console.log("symbolMap.js generated!");
